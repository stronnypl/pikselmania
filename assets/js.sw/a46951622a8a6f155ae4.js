"use strict";(()=>{(self.webpackChunkmodern_prestashop_build_tool=self.webpackChunkmodern_prestashop_build_tool||[]).push([[352],{5352:(V,b,h)=>{h.r(b),h.d(b,{default:()=>O});var P=h(4625),G=h(9482);function O(z){let{swiper:e,extendParams:U,on:S,emit:w}=z;U({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}});let A;e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]};function T(a,r){const i=e.params.virtual;if(i.cache&&e.virtual.cache[r])return e.virtual.cache[r];const s=i.renderSlide?(0,P.Z)(i.renderSlide.call(e,a,r)):(0,P.Z)(`<div class="${e.params.slideClass}" data-swiper-slide-index="${r}">${a}</div>`);return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",r),i.cache&&(e.virtual.cache[r]=s),s}function d(a){const{slidesPerView:r,slidesPerGroup:i,centeredSlides:s}=e.params,{addSlidesBefore:l,addSlidesAfter:f}=e.params.virtual,{from:p,to:n,slides:u,slidesGrid:R,offset:k}=e.virtual;e.params.cssMode||e.updateActiveIndex();const x=e.activeIndex||0;let m;e.rtlTranslate?m="right":m=e.isHorizontal()?"left":"top";let g,$;s?(g=Math.floor(r/2)+i+f,$=Math.floor(r/2)+i+l):(g=r+(i-1)+f,$=i+l);const o=Math.max((x||0)-$,0),c=Math.min((x||0)+g,u.length-1),v=(e.slidesGrid[o]||0)-(e.slidesGrid[0]||0);Object.assign(e.virtual,{from:o,to:c,offset:v,slidesGrid:e.slidesGrid});function y(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),w("virtualUpdate")}if(p===o&&n===c&&!a){e.slidesGrid!==R&&v!==k&&e.slides.css(m,`${v}px`),e.updateProgress(),w("virtualUpdate");return}if(e.params.virtual.renderExternal){e.params.virtual.renderExternal.call(e,{offset:v,from:o,to:c,slides:function(){const E=[];for(let M=o;M<=c;M+=1)E.push(u[M]);return E}()}),e.params.virtual.renderExternalUpdate?y():w("virtualUpdate");return}const C=[],_=[];if(a)e.$wrapperEl.find(`.${e.params.slideClass}`).remove();else for(let t=p;t<=n;t+=1)(t<o||t>c)&&e.$wrapperEl.find(`.${e.params.slideClass}[data-swiper-slide-index="${t}"]`).remove();for(let t=0;t<u.length;t+=1)t>=o&&t<=c&&(typeof n=="undefined"||a?_.push(t):(t>n&&_.push(t),t<p&&C.push(t)));_.forEach(t=>{e.$wrapperEl.append(T(u[t],t))}),C.sort((t,E)=>E-t).forEach(t=>{e.$wrapperEl.prepend(T(u[t],t))}),e.$wrapperEl.children(".swiper-slide").css(m,`${v}px`),y()}function j(a){if(typeof a=="object"&&"length"in a)for(let r=0;r<a.length;r+=1)a[r]&&e.virtual.slides.push(a[r]);else e.virtual.slides.push(a);d(!0)}function I(a){const r=e.activeIndex;let i=r+1,s=1;if(Array.isArray(a)){for(let l=0;l<a.length;l+=1)a[l]&&e.virtual.slides.unshift(a[l]);i=r+a.length,s=a.length}else e.virtual.slides.unshift(a);if(e.params.virtual.cache){const l=e.virtual.cache,f={};Object.keys(l).forEach(p=>{const n=l[p],u=n.attr("data-swiper-slide-index");u&&n.attr("data-swiper-slide-index",parseInt(u,10)+s),f[parseInt(p,10)+s]=n}),e.virtual.cache=f}d(!0),e.slideTo(i,0)}function B(a){if(typeof a=="undefined"||a===null)return;let r=e.activeIndex;if(Array.isArray(a))for(let i=a.length-1;i>=0;i-=1)e.virtual.slides.splice(a[i],1),e.params.virtual.cache&&delete e.virtual.cache[a[i]],a[i]<r&&(r-=1),r=Math.max(r,0);else e.virtual.slides.splice(a,1),e.params.virtual.cache&&delete e.virtual.cache[a],a<r&&(r-=1),r=Math.max(r,0);d(!0),e.slideTo(r,0)}function D(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),d(!0),e.slideTo(0,0)}S("beforeInit",()=>{!e.params.virtual.enabled||(e.virtual.slides=e.params.virtual.slides,e.classNames.push(`${e.params.containerModifierClass}virtual`),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,e.params.initialSlide||d())}),S("setTranslate",()=>{!e.params.virtual.enabled||(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(A),A=setTimeout(()=>{d()},100)):d())}),S("init update resize",()=>{!e.params.virtual.enabled||e.params.cssMode&&(0,G.z2)(e.wrapperEl,"--swiper-virtual-size",`${e.virtualSize}px`)}),Object.assign(e.virtual,{appendSlide:j,prependSlide:I,removeSlide:B,removeAllSlides:D,update:d})}}}]);})();
