{"version":3,"sources":["webpack://modern-prestashop-build-tool/./node_modules/swiper/modules/scrollbar/scrollbar.js"],"names":[],"mappings":"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","file":"js/c229ed990a0af1629652.js","sourcesContent":["import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Scrollbar(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const document = getDocument();\n  let isTouched = false;\n  let timeout = null;\n  let dragTimeout = null;\n  let dragStartPos;\n  let dragSize;\n  let trackSize;\n  let divider;\n  extendParams({\n    scrollbar: {\n      el: null,\n      dragSize: 'auto',\n      hide: false,\n      draggable: false,\n      snapOnRelease: true,\n      lockClass: 'swiper-scrollbar-lock',\n      dragClass: 'swiper-scrollbar-drag'\n    }\n  });\n  swiper.scrollbar = {\n    el: null,\n    dragEl: null,\n    $el: null,\n    $dragEl: null\n  };\n\n  function setTranslate() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar,\n      rtlTranslate: rtl,\n      progress\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    const params = swiper.params.scrollbar;\n    let newSize = dragSize;\n    let newPos = (trackSize - dragSize) * progress;\n\n    if (rtl) {\n      newPos = -newPos;\n\n      if (newPos > 0) {\n        newSize = dragSize - newPos;\n        newPos = 0;\n      } else if (-newPos + dragSize > trackSize) {\n        newSize = trackSize + newPos;\n      }\n    } else if (newPos < 0) {\n      newSize = dragSize + newPos;\n      newPos = 0;\n    } else if (newPos + dragSize > trackSize) {\n      newSize = trackSize - newPos;\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl.transform(`translate3d(${newPos}px, 0, 0)`);\n      $dragEl[0].style.width = `${newSize}px`;\n    } else {\n      $dragEl.transform(`translate3d(0px, ${newPos}px, 0)`);\n      $dragEl[0].style.height = `${newSize}px`;\n    }\n\n    if (params.hide) {\n      clearTimeout(timeout);\n      $el[0].style.opacity = 1;\n      timeout = setTimeout(() => {\n        $el[0].style.opacity = 0;\n        $el.transition(400);\n      }, 1000);\n    }\n  }\n\n  function setTransition(duration) {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    swiper.scrollbar.$dragEl.transition(duration);\n  }\n\n  function updateSize() {\n    if (!swiper.params.scrollbar.el || !swiper.scrollbar.el) return;\n    const {\n      scrollbar\n    } = swiper;\n    const {\n      $dragEl,\n      $el\n    } = scrollbar;\n    $dragEl[0].style.width = '';\n    $dragEl[0].style.height = '';\n    trackSize = swiper.isHorizontal() ? $el[0].offsetWidth : $el[0].offsetHeight;\n    divider = swiper.size / (swiper.virtualSize + swiper.params.slidesOffsetBefore - (swiper.params.centeredSlides ? swiper.snapGrid[0] : 0));\n\n    if (swiper.params.scrollbar.dragSize === 'auto') {\n      dragSize = trackSize * divider;\n    } else {\n      dragSize = parseInt(swiper.params.scrollbar.dragSize, 10);\n    }\n\n    if (swiper.isHorizontal()) {\n      $dragEl[0].style.width = `${dragSize}px`;\n    } else {\n      $dragEl[0].style.height = `${dragSize}px`;\n    }\n\n    if (divider >= 1) {\n      $el[0].style.display = 'none';\n    } else {\n      $el[0].style.display = '';\n    }\n\n    if (swiper.params.scrollbar.hide) {\n      $el[0].style.opacity = 0;\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      scrollbar.$el[swiper.isLocked ? 'addClass' : 'removeClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function getPointerPosition(e) {\n    if (swiper.isHorizontal()) {\n      return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientX : e.clientX;\n    }\n\n    return e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].clientY : e.clientY;\n  }\n\n  function setDragPosition(e) {\n    const {\n      scrollbar,\n      rtlTranslate: rtl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    let positionRatio;\n    positionRatio = (getPointerPosition(e) - $el.offset()[swiper.isHorizontal() ? 'left' : 'top'] - (dragStartPos !== null ? dragStartPos : dragSize / 2)) / (trackSize - dragSize);\n    positionRatio = Math.max(Math.min(positionRatio, 1), 0);\n\n    if (rtl) {\n      positionRatio = 1 - positionRatio;\n    }\n\n    const position = swiper.minTranslate() + (swiper.maxTranslate() - swiper.minTranslate()) * positionRatio;\n    swiper.updateProgress(position);\n    swiper.setTranslate(position);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  function onDragStart(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    isTouched = true;\n    dragStartPos = e.target === $dragEl[0] || e.target === $dragEl ? getPointerPosition(e) - e.target.getBoundingClientRect()[swiper.isHorizontal() ? 'left' : 'top'] : null;\n    e.preventDefault();\n    e.stopPropagation();\n    $wrapperEl.transition(100);\n    $dragEl.transition(100);\n    setDragPosition(e);\n    clearTimeout(dragTimeout);\n    $el.transition(0);\n\n    if (params.hide) {\n      $el.css('opacity', 1);\n    }\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', 'none');\n    }\n\n    emit('scrollbarDragStart', e);\n  }\n\n  function onDragMove(e) {\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el,\n      $dragEl\n    } = scrollbar;\n    if (!isTouched) return;\n    if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n    setDragPosition(e);\n    $wrapperEl.transition(0);\n    $el.transition(0);\n    $dragEl.transition(0);\n    emit('scrollbarDragMove', e);\n  }\n\n  function onDragEnd(e) {\n    const params = swiper.params.scrollbar;\n    const {\n      scrollbar,\n      $wrapperEl\n    } = swiper;\n    const {\n      $el\n    } = scrollbar;\n    if (!isTouched) return;\n    isTouched = false;\n\n    if (swiper.params.cssMode) {\n      swiper.$wrapperEl.css('scroll-snap-type', '');\n      $wrapperEl.transition('');\n    }\n\n    if (params.hide) {\n      clearTimeout(dragTimeout);\n      dragTimeout = nextTick(() => {\n        $el.css('opacity', 0);\n        $el.transition(400);\n      }, 1000);\n    }\n\n    emit('scrollbarDragEnd', e);\n\n    if (params.snapOnRelease) {\n      swiper.slideToClosest();\n    }\n  }\n\n  function events(method) {\n    const {\n      scrollbar,\n      touchEventsTouch,\n      touchEventsDesktop,\n      params,\n      support\n    } = swiper;\n    const $el = scrollbar.$el;\n    const target = $el[0];\n    const activeListener = support.passiveListener && params.passiveListeners ? {\n      passive: false,\n      capture: false\n    } : false;\n    const passiveListener = support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    if (!target) return;\n    const eventMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n\n    if (!support.touch) {\n      target[eventMethod](touchEventsDesktop.start, onDragStart, activeListener);\n      document[eventMethod](touchEventsDesktop.move, onDragMove, activeListener);\n      document[eventMethod](touchEventsDesktop.end, onDragEnd, passiveListener);\n    } else {\n      target[eventMethod](touchEventsTouch.start, onDragStart, activeListener);\n      target[eventMethod](touchEventsTouch.move, onDragMove, activeListener);\n      target[eventMethod](touchEventsTouch.end, onDragEnd, passiveListener);\n    }\n  }\n\n  function enableDraggable() {\n    if (!swiper.params.scrollbar.el) return;\n    events('on');\n  }\n\n  function disableDraggable() {\n    if (!swiper.params.scrollbar.el) return;\n    events('off');\n  }\n\n  function init() {\n    const {\n      scrollbar,\n      $el: $swiperEl\n    } = swiper;\n    swiper.params.scrollbar = createElementIfNotDefined(swiper, swiper.originalParams.scrollbar, swiper.params.scrollbar, {\n      el: 'swiper-scrollbar'\n    });\n    const params = swiper.params.scrollbar;\n    if (!params.el) return;\n    let $el = $(params.el);\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1 && $swiperEl.find(params.el).length === 1) {\n      $el = $swiperEl.find(params.el);\n    }\n\n    let $dragEl = $el.find(`.${swiper.params.scrollbar.dragClass}`);\n\n    if ($dragEl.length === 0) {\n      $dragEl = $(`<div class=\"${swiper.params.scrollbar.dragClass}\"></div>`);\n      $el.append($dragEl);\n    }\n\n    Object.assign(scrollbar, {\n      $el,\n      el: $el[0],\n      $dragEl,\n      dragEl: $dragEl[0]\n    });\n\n    if (params.draggable) {\n      enableDraggable();\n    }\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  }\n\n  function destroy() {\n    disableDraggable();\n  }\n\n  on('init', () => {\n    init();\n    updateSize();\n    setTranslate();\n  });\n  on('update resize observerUpdate lock unlock', () => {\n    updateSize();\n  });\n  on('setTranslate', () => {\n    setTranslate();\n  });\n  on('setTransition', (_s, duration) => {\n    setTransition(duration);\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.scrollbar;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.scrollbar.lockClass);\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  Object.assign(swiper.scrollbar, {\n    updateSize,\n    setTranslate,\n    init,\n    destroy\n  });\n}"],"sourceRoot":""}